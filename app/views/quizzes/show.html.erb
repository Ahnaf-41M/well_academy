<section class="vh-100" style="background-color: #eee;">
  <div class="container h-100">
    <div class="row justify-content-center">
      <h1 class="text-center mb-3 fw-bold mt-2"><%= t('quizzes.show.title') %></h1>
      <h5 class="text-center mb-3 fw-bold text-danger"> <%= @quiz.title %></h5>
      <h5 class="text-center fw-bold mb-3"> <%= t('quizzes.total_marks') %>: <%= @quiz.total_marks %></h5>

      <% if @user.teacher? %>
        <%= form_with model: [@course, @quiz], local: true do |f| %>
          <div class="fw-bold h5"> <%= t('quizzes.title') %> <span class="text-danger">*</span></div>
          <div class="bd-highlight">
            <%= f.text_field :title, class: "form-control mb-3", placeholder: t('quizzes.title'), required: true %>
          </div>
          <div class="d-grid">
            <%= f.submit t('submit_button'), class: "btn btn-primary btn-lg", disable_with: 'Submitting...' %>
          </div>
        <% end %>
      <% end %>

      <% @questions.each do |question| %>
        <div class="card mb-3">
          <div class="card-header">
            <h5><%= question.content %></h5>
          </div>
          <div class="card-body">
            <% question.options.each do |option| %>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" <%= "checked" if option["is_correct"] == "1" %> >
                <label class="form-check-label" for="flexCheckDefault">
                  <%= option["option_text"] %>
                </label>
              </div>
            <% end %>
          </div>
          <% if @user.teacher? %>
            <div class="card-footer">
              <div class="d-flex">
                <%= link_to t('edit_button'), edit_question_path(question), class: "btn btn-warning btn-sm me-2" %>
                <%= button_to t('delete_button'),
                              question_path(question),
                              method: :delete,
                              class: "btn btn-danger btn-sm me-2",
                              onclick: "return confirm('#{t('confirm_message')}');"
                %>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</section>
