<section class="vh-100" style="background-color: #eee;">
  <div class="container h-100">
    <h2 class="text-center text-danger fw-bold mb-3"> <%= @quiz.title %></h2>
    <h5 class="text-center fw-bold mb-3"> Total Marks: <%= @quiz.total_marks %></h5>
    <% if @user.teacher? %>
      <%= form_with model: [@course, @quiz], local: true do |f| %>
        <div class="d-flex flex-row bd-highlight mb-3 justify-content-center">
          <div class="p-2 bd-highlight fs-5 fw-bold">Title <span class="text-danger">*</span></div>
          <div class="p-2 bd-highlight"><%= f.text_field :title, class: "form-control mb-3", placeholder: "Quiz title", required: true %></div>
          <div class="p-2 bd-highlight"><%= f.submit "Update", class: "btn btn-success btn-sm", disable_with: 'Submitting...' %></div>
        </div>
      <% end %>
    <% end %>

    <% @questions.each do |question| %>
      <div class="card mb-3">
        <div class="card-header">
          <h5><%= question.content %></h5>
        </div>
        <div class="card-body">
          <% question.options.each do |option| %>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" <%= "checked" if option["is_correct"] == "1" %> >
              <label class="form-check-label" for="flexCheckDefault">
                <%= option["option_text"] %>
              </label>
            </div>
          <% end %>
        </div>
        <% if @user.teacher? %>
          <div class="card-footer">
            <div class="d-flex">
              <%= link_to "Edit", edit_question_path(question), class: "btn btn-warning btn-sm me-2" %>
              <%= button_to "Delete",
                            question_path(question),
                            method: :delete,
                            class: "btn btn-danger btn-sm me-2",
                            onclick: "return confirm('Are you sure?');" %>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</section>